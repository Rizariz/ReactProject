{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\61452\\\\Documents\\\\marriage-point-calculator\\\\src\\\\pages\\\\JustPointPage.js\";\nimport { IonContent, IonPage } from '@ionic/react';\nimport React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux'; // libraries\n\nimport { useHistory, useLocation } from \"react-router\"; // components\n\nimport HeaderComponent from '../components/HeaderComponent';\nimport StatComponent from '../components/StatComponent'; // action\n\nimport { getGameInfo, setGamePoint } from '../features/MarriageSlice'; // util\n\nimport { db } from '../firebase.util';\n\nconst JustPointPage = () => {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n  useEffect(() => {\n    const gameID = location.search.replace(/[?]/, \"\");\n    !gameID ? history.push(\"/loginPage\") : (async () => {\n      const body = {\n        gameID: gameID\n      };\n      dispatch(getGameInfo(body));\n      let firebaseX = await db;\n      await new Promise(() => {\n        firebaseX.collection('Marriage').doc(`${gameID}`).onSnapshot(doc => {\n          doc.data() && doc.data().point && dispatch(setGamePoint(doc.data().point));\n        });\n      });\n    })();\n  }, [dispatch, history, location.search]);\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(HeaderComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(IonContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(StatComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default JustPointPage;","map":{"version":3,"sources":["C:/Users/61452/Documents/marriage-point-calculator/src/pages/JustPointPage.js"],"names":["IonContent","IonPage","React","useEffect","useDispatch","useHistory","useLocation","HeaderComponent","StatComponent","getGameInfo","setGamePoint","db","JustPointPage","dispatch","location","history","gameID","search","replace","push","body","firebaseX","Promise","collection","doc","onSnapshot","data","point"],"mappings":";AAAA,SAASA,UAAT,EAAqBC,OAArB,QAAoC,cAApC;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,WAAR,QAA0B,aAA1B,C,CAEA;;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,cAAxC,C,CAEA;;AACA,OAAOC,eAAP,MAA4B,+BAA5B;AACA,OAAOC,aAAP,MAA0B,6BAA1B,C,CAEA;;AACA,SAASC,WAAT,EAAqBC,YAArB,QAAyC,2BAAzC,C,CAEA;;AACA,SAAQC,EAAR,QAAiB,kBAAjB;;AAEA,MAAMC,aAAa,GAAG,MAAM;AACxB,QAAMC,QAAQ,GAAGT,WAAW,EAA5B;AACA,QAAMU,QAAQ,GAAGR,WAAW,EAA5B;AACA,QAAMS,OAAO,GAAGV,UAAU,EAA1B;AAEAF,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMa,MAAM,GAAGF,QAAQ,CAACG,MAAT,CAAgBC,OAAhB,CAAwB,KAAxB,EAA8B,EAA9B,CAAf;AAEA,KAACF,MAAD,GAASD,OAAO,CAACI,IAAR,CAAa,YAAb,CAAT,GAAoC,CAAC,YAAS;AAC1C,YAAMC,IAAI,GAAG;AACTJ,QAAAA,MAAM,EAAEA;AADC,OAAb;AAGAH,MAAAA,QAAQ,CAACJ,WAAW,CAACW,IAAD,CAAZ,CAAR;AAEA,UAAIC,SAAS,GAAG,MAAMV,EAAtB;AAEA,YAAM,IAAIW,OAAJ,CACF,MAAI;AACJD,QAAAA,SAAS,CACJE,UADL,CACgB,UADhB,EAEKC,GAFL,CAEU,GAAER,MAAO,EAFnB,EAGKS,UAHL,CAGgBD,GAAG,IAAG;AACdA,UAAAA,GAAG,CAACE,IAAJ,MAAcF,GAAG,CAACE,IAAJ,GAAWC,KAAzB,IAAkCd,QAAQ,CAACH,YAAY,CAACc,GAAG,CAACE,IAAJ,GAAWC,KAAZ,CAAb,CAA1C;AACH,SALL;AAMC,OARC,CAAN;AASE,KAjB8B,GAApC;AAmBH,GAtBQ,EAsBP,CAACd,QAAD,EAAUE,OAAV,EAAkBD,QAAQ,CAACG,MAA3B,CAtBO,CAAT;AAwBA,sBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAFJ,CADJ;AAQH,CArCD;;AAuCA,eAAeL,aAAf","sourcesContent":["import { IonContent, IonPage } from '@ionic/react';\r\nimport React, { useEffect } from 'react';\r\nimport {useDispatch} from 'react-redux';\r\n\r\n// libraries\r\nimport { useHistory, useLocation } from \"react-router\";\r\n\r\n// components\r\nimport HeaderComponent from '../components/HeaderComponent';\r\nimport StatComponent from '../components/StatComponent';\r\n\r\n// action\r\nimport { getGameInfo,setGamePoint } from '../features/MarriageSlice';\r\n\r\n// util\r\nimport {db} from '../firebase.util';\r\n\r\nconst JustPointPage = () => {\r\n    const dispatch = useDispatch();\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n\r\n    useEffect(()=>{\r\n        const gameID = location.search.replace(/[?]/,\"\"); \r\n\r\n        !gameID? history.push(\"/loginPage\"):(async()=>{\r\n            const body = {\r\n                gameID: gameID\r\n            }\r\n            dispatch(getGameInfo(body))\r\n\r\n            let firebaseX = await db;\r\n\r\n            await new Promise(\r\n                ()=>{\r\n                firebaseX\r\n                    .collection('Marriage')\r\n                    .doc(`${gameID}`)\r\n                    .onSnapshot(doc =>{\r\n                        doc.data() && doc.data().point && dispatch(setGamePoint(doc.data().point))\r\n                    })\r\n                }\r\n            )}\r\n        )();\r\n    },[dispatch,history,location.search])\r\n\r\n    return (\r\n        <IonPage>\r\n            <HeaderComponent/>\r\n            <IonContent>\r\n                <StatComponent/>\r\n            </IonContent>\r\n        </IonPage>\r\n    )\r\n}\r\n\r\nexport default JustPointPage\r\n"]},"metadata":{},"sourceType":"module"}