{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\61452\\\\Documents\\\\marriage-point-calculator\\\\src\\\\pages\\\\PlayersNamePage.js\";\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { IonContent, IonPage, IonButton } from '@ionic/react'; // utils\n\nimport { useHistory } from \"react-router\";\nimport { addPlayerName, storeGameInfo } from '../features/MarriageSlice';\nimport { useAuth } from '../auth/AuthProvider'; // libraries\n\nimport uuid from 'react-uuid'; // component\n\nimport HeaderComponent from '../components/HeaderComponent';\nimport InputComponent from '../components/InputComponent';\nimport LogoutButtonComponent from '../components/LogoutButtonComponent';\n\nconst PlayersNamePage = () => {\n  const numOfPlayers = useSelector(state => state.MarriageSlice.numberOfPlayer);\n  const playerNames = useSelector(state => state.MarriageSlice.playerNames);\n  const gameID = useSelector(state => state.MarriageSlice.gameID);\n  const adminName = useSelector(state => state.MarriageSlice.adminName);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {\n    getAuthToken\n  } = useAuth();\n  let token = \"\";\n  const playersNameArr = [];\n  let playerNum = new Array(!!!numOfPlayers ? \"\" : numOfPlayers).fill(null);\n  useEffect(() => {\n    typeof numOfPlayers === 'number' ? console.log(numOfPlayers) : history.push('/');\n\n    if (playerNames.length > 0) {\n      history.push({\n        pathname: \"/gamePage\",\n        search: `${gameID}`\n      });\n    }\n  }, [numOfPlayers, history, playerNames.length, gameID]);\n\n  const storeGameInfoAction = async () => {\n    dispatch(addPlayerName(playersNameArr));\n    token = await getAuthToken();\n    const body = {\n      gameID: uuid(),\n      adminName: adminName,\n      numOfPlayers: numOfPlayers,\n      playersName: playersNameArr,\n      gamePoints: [],\n      oauthToken: token\n    };\n    const storeGameDataResult = await dispatch(storeGameInfo(body));\n    storeGameDataResult && storeGameDataResult.success ? history.push({\n      pathname: \"/gamePage\",\n      search: `${storeGameDataResult.data.gameID}`\n    }) : console.log(\"\");\n  };\n\n  const pushItToArr = (name, index) => {\n    playersNameArr[index] = name;\n  };\n\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(HeaderComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(IonContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, playerNum && playerNum.map((value, index) => {\n    return /*#__PURE__*/React.createElement(InputComponent, {\n      key: index,\n      ind: index,\n      func: name => pushItToArr(name, index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 32\n      }\n    });\n  })), /*#__PURE__*/React.createElement(IonButton, {\n    onClick: () => storeGameInfoAction(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"Play Game\"), /*#__PURE__*/React.createElement(LogoutButtonComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default PlayersNamePage;","map":{"version":3,"sources":["C:/Users/61452/Documents/marriage-point-calculator/src/pages/PlayersNamePage.js"],"names":["React","useEffect","useSelector","useDispatch","IonContent","IonPage","IonButton","useHistory","addPlayerName","storeGameInfo","useAuth","uuid","HeaderComponent","InputComponent","LogoutButtonComponent","PlayersNamePage","numOfPlayers","state","MarriageSlice","numberOfPlayer","playerNames","gameID","adminName","dispatch","history","getAuthToken","token","playersNameArr","playerNum","Array","fill","console","log","push","length","pathname","search","storeGameInfoAction","body","playersName","gamePoints","oauthToken","storeGameDataResult","success","data","pushItToArr","name","index","map","value"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport {useSelector,useDispatch} from 'react-redux';\r\n\r\nimport {IonContent, \r\n        IonPage, \r\n        IonButton} from '@ionic/react';\r\n\r\n// utils\r\nimport { useHistory } from \"react-router\";\r\nimport { addPlayerName, storeGameInfo } from '../features/MarriageSlice';\r\nimport {useAuth} from '../auth/AuthProvider';\r\n\r\n// libraries\r\nimport uuid from 'react-uuid';\r\n\r\n// component\r\nimport HeaderComponent from '../components/HeaderComponent';\r\nimport InputComponent from '../components/InputComponent';\r\nimport LogoutButtonComponent from '../components/LogoutButtonComponent';\r\n\r\nconst PlayersNamePage = () => {\r\n    const numOfPlayers = useSelector(state => state.MarriageSlice.numberOfPlayer);\r\n    const playerNames = useSelector(state => state.MarriageSlice.playerNames);\r\n    const gameID = useSelector(state => state.MarriageSlice.gameID);\r\n    const adminName = useSelector(state => state.MarriageSlice.adminName);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const {getAuthToken} = useAuth();\r\n    let token = \"\";\r\n\r\n    const playersNameArr = [];\r\n    let playerNum = new Array(!!!numOfPlayers ? \"\" : numOfPlayers).fill(null);\r\n\r\n    useEffect(() => {\r\n        (typeof numOfPlayers === 'number') ? console.log(numOfPlayers): history.push('/') \r\n        if(playerNames.length > 0){\r\n            history.push({pathname:\"/gamePage\",search:`${gameID}`})\r\n        }\r\n    }, [numOfPlayers, history,playerNames.length,gameID])\r\n\r\n    const storeGameInfoAction=async ()=>{\r\n        dispatch(addPlayerName(playersNameArr))\r\n        token = await getAuthToken();\r\n\r\n        const body={\r\n            gameID: uuid(),\r\n            adminName: adminName,\r\n            numOfPlayers: numOfPlayers,\r\n            playersName:playersNameArr,\r\n            gamePoints:[],\r\n            oauthToken:token\r\n        }\r\n\r\n        const storeGameDataResult = await dispatch(storeGameInfo(body))\r\n    \r\n        storeGameDataResult && storeGameDataResult.success ? \r\n            history.push({pathname:\"/gamePage\",search:`${storeGameDataResult.data.gameID}`}):\r\n            console.log(\"\");\r\n    }\r\n\r\n    const pushItToArr = (name,index)=>{\r\n        playersNameArr[index]=name;\r\n    }\r\n\r\n    return (\r\n        <IonPage>\r\n            <HeaderComponent/>\r\n            <IonContent>\r\n                {\r\n                    playerNum && playerNum.map((value,index)=>{\r\n                        return <InputComponent  key = {index} \r\n                                                ind = {index} \r\n                                                func={(name)=>pushItToArr(name,index)}/>\r\n                    })\r\n                }\r\n            </IonContent>\r\n            <IonButton onClick={()=>storeGameInfoAction()}>Play Game</IonButton>\r\n            <LogoutButtonComponent/>\r\n        </IonPage>\r\n    )\r\n}\r\n\r\nexport default PlayersNamePage\r\n"]},"metadata":{},"sourceType":"module"}